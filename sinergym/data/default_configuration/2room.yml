# Documentation: https://ugr-sail.github.io/sinergym/compilation/main/pages/environments_registration.html
# ---------------------------------------------------------------------------- #
#                        ID BASE FOR ENVIRONMENT NAMES                         #
# ---------------------------------------------------------------------------- #
id_base: 2room

# ---------------------------------------------------------------------------- #
#                         BUILDING AND WEATHER SETTINGS                        #
# ---------------------------------------------------------------------------- #
building_file: 2room.epJSON        # put the epJSON in sinergym/data/buildings/
weather_specification:             # one weather -> one environment
  weather_files:
    - DEU_NW_Luedenscheid.104180_TMYx.2007-2021.epw
  keys:
    - mild

# ---------------------------------------------------------------------------- #
#                          EPISODES FOLDER GENERATION                          #
# ---------------------------------------------------------------------------- #
max_ep_store: 3                    # keep data only for latest 3 episodes

# ---------------------------------------------------------------------------- #
#                             OBSERVATION VARIABLES                            #
# ---------------------------------------------------------------------------- #
# --------------- TIME VARIABLES (EnergyPlus API names) ---------------------- #
time_variables:
  - month
  - day_of_month
  - hour

# ----------------------------- OUTPUT:VARIABLES ----------------------------- #
variables:
  Site Outdoor Air DryBulb Temperature:
    variable_names: outdoor_temperature
    keys: Environment

  Site Outdoor Air Relative Humidity:
    variable_names: outdoor_humidity
    keys: Environment

  # -------- Living-room (LR) zone variables -------- #
  Zone Air Temperature:
    variable_names:
      - air_temp_lr
      - air_temp_br
    keys:
      - LivingRoom
      - Bedroom

  Zone Air Relative Humidity:
    variable_names:
      - air_rh_lr
      - air_rh_br
    keys:
      - LivingRoom
      - Bedroom

  Zone Thermostat Heating Setpoint Temperature:
    variable_names:
      - htg_set_lr
      - htg_set_br
    keys:
      - LivingRoom
      - Bedroom

  Zone Thermostat Cooling Setpoint Temperature:
    variable_names:
      - clg_set_lr
      - clg_set_br
    keys:
      - LivingRoom
      - Bedroom

  Facility Total HVAC Electricity Demand Rate:
    variable_names: HVAC_electricity_demand_rate
    keys: Whole Building

# ------------------------------- OUTPUT:METERS ------------------------------ #
meters: {}                          # (none for now)

# ---------------------------------------------------------------------------- #
#                               ACTION VARIABLES                               #
# ---------------------------------------------------------------------------- #
# Two global “dummy” schedules generated by HVACTemplate are used
# to override heating and cooling set-points at runtime.
actuators:
  HTG-SETP-SCH:
    variable_name: Heating_Setpoint_RL
    element_type: Schedule:Compact
    value_type: Schedule Value
  CLG-SETP-SCH:
    variable_name: Cooling_Setpoint_RL
    element_type: Schedule:Compact
    value_type: Schedule Value

# ---------------------------------------------------------------------------- #
#                   DYNAMIC CONTEXT CONFIGURABLE IN REAL-TIME                  #
# ---------------------------------------------------------------------------- #
context: {}

# ---------------------------------------------------------------------------- #
#                                 ACTION SPACE                                 #
# ---------------------------------------------------------------------------- #
#   low  = [ 15 °C heat setp, 22 °C cool setp ]
#   high = [ 23 °C heat setp, 30 °C cool setp ]
action_space: gym.spaces.Box( low=np.array([15.0, 22.0], dtype=np.float32), high=np.array([23.0, 30.0], dtype=np.float32),shape=(2,),dtype=np.float32)

# ---------------------------------------------------------------------------- #
#                                REWARD FUNCTION                               #
# ---------------------------------------------------------------------------- #
reward: sinergym.utils.rewards:LinearReward
reward_kwargs:
  temperature_variables:
    - air_temp_lr
    - air_temp_br
  energy_variables:
    - HVAC_electricity_demand_rate
  range_comfort_winter: [20.0, 23.5]
  range_comfort_summer: [23.0, 26.0]
  summer_start: [6, 1]        # 1 June
  summer_final: [9, 30]       # 30 Sept
  energy_weight: 0.5
  lambda_energy: 1.0e-4
  lambda_temperature: 1.0

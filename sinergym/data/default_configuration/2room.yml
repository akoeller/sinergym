# Documentation: https://ugr-sail.github.io/sinergym/compilation/main/pages/environments_registration.html
# ---------------------------------------------------------------------------- #
#                        ID BASE FOR ENVIRONMENT NAMES                         #
# ---------------------------------------------------------------------------- #
id_base: 2room

# ---------------------------------------------------------------------------- #
#                         BUILDING AND WEATHER SETTINGS                        #
# ---------------------------------------------------------------------------- #
building_file: 2room.epJSON        # put the epJSON in sinergym/data/buildings/
weather_specification:             # one weather -> one environment
  weather_files:
    - DEU_NW_Luedenscheid.104180_TMYx.2007-2021.epw
  keys:
    - mild

# ---------------------------------------------------------------------------- #
#                          EPISODES FOLDER GENERATION                          #
# ---------------------------------------------------------------------------- #
max_ep_store: 3                    # keep data only for latest 3 episodes

# ---------------------------------------------------------------------------- #
#                             OBSERVATION VARIABLES                            #
# ---------------------------------------------------------------------------- #
# --------------- TIME VARIABLES (EnergyPlus API names) ---------------------- #
time_variables:
  - month
  - day_of_month
  - hour

# ----------------------------- OUTPUT:VARIABLES ----------------------------- #
variables:
  Site Outdoor Air DryBulb Temperature:
    variable_names: outdoor_temperature
    keys: ENVIRONMENT

  Zone Air Temperature:
    variable_names:
      - air_temp_lr
      - air_temp_br
    keys:
      - LIVINGROOM
      - BEDROOM

  Baseboard Total Heating Energy:
    variable_names:
      - baseboard_total_heating_energy_lr
      - baseboard_total_heating_energy_br
    keys:
      - LIVINGROOM BASEBOARD HEAT
      - BEDROOM BASEBOARD HEAT

  Boiler NaturalGas Energy:
    variable_names: boiler_natural_gas_energy
    keys: MAINBOILERPLANT

# ------------------------------- OUTPUT:METERS ------------------------------ #
meters: {}                          # (none for now)

# ---------------------------------------------------------------------------- #
#                               ACTION VARIABLES                               #
# ---------------------------------------------------------------------------- #
actuators:
  HVACTemplate-Always 21:
    variable_name: Heating_Setpoint_LR
    element_type: Schedule:Compact
    value_type: Schedule Value
  HVACTemplate-Always 25:
    variable_name: Heating_Setpoint_BR
    element_type: Schedule:Compact
    value_type: Schedule Value

# ---------------------------------------------------------------------------- #
#                   DYNAMIC CONTEXT CONFIGURABLE IN REAL-TIME                  #
# ---------------------------------------------------------------------------- #
context: {}

# ---------------------------------------------------------------------------- #
#                                 ACTION SPACE                                 #
# ---------------------------------------------------------------------------- #
#   low  = [ 15 째C heat setp LR, 15 째C heat setp BR ]
#   high = [ 23 째C heat setp LR, 23 째C heat setp BR ]
action_space: gym.spaces.Box( low=np.array([15.0, 15.0], dtype=np.float32), high=np.array([23.0, 23.0], dtype=np.float32),shape=(2,),dtype=np.float32)

# ---------------------------------------------------------------------------- #
#                                REWARD FUNCTION                               #
# ---------------------------------------------------------------------------- #
reward: sinergym.utils.rewards:LinearReward
reward_kwargs:
  temperature_variables:
    - air_temp_lr
    - air_temp_br
  energy_variables:
    - boiler_natural_gas_energy
  range_comfort_winter: [20.0, 23.5]
  range_comfort_summer: [23.0, 26.0]
  summer_start: [6, 1]        # 1 June
  summer_final: [9, 30]       # 30 Sept
  energy_weight: 0.5
  lambda_energy: 1.0e-4
  lambda_temperature: 1.0
